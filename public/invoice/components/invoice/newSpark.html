<style>
    .modal-dialog {
        width: 90%;
    }
</style>
<div class="modal-header">
    <a  ng-click="$ctrl.cancel()"><span class="pull-right glyphicon glyphicon-remove"></span></a>
    <h3 class="modal-title"style="color: #666">Создание карточки товара</h3>
</div>
<div class="modal-body">
    <div class="col-lg-12 col-md-12 col-sm-12  col-xs-12">
        <form ng-submit="$ctrl.create(form)" novalidate name="form">
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                <div class="form-group">
                    <label for="name1" class="control-label">наименование материала</label>
                    <input type="text"id="name1" class="form-control name"
                           name="name"
                           ng-minlength='3'
                           ng-maxlength="100"
                           ng-model="$ctrl.item.name"
                           placeholder="наименование материала"
                           required/>
                </div>
                <!--<span class="help-block" ng-show="form.name.$invalid" ng-messages="form.name.$error">
                        <span ng-message="required">Минимальная длина 3 символа</span>
                        <span ng-message="minlength">Минимальная длина 3 символа</span>
                        <span ng-message="maxlength">Максимальная длина 100 символов</span>
                </span>-->
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 ">
                <div class="form-group ">
                    <label for="sku" class="control-label">основной артикул</label>
                    <input type="text"id="sku" class="form-control name"
                           name="sku"
                           ng-maxlength="100"
                           ng-model="$ctrl.item.sku"
                           ng-model-options="{'updateOn':'default blur','debounce':{'default':700,'blur':0}}"
                           disabled="true"
                           ng-change2="$ctrl.refreshData($ctrl.item.sku)"
                           placeholder="основной артикул"/>
                </div>
                <span class="help-block" ng-show="form.sku.$invalid" ng-messages="form.sku.$error">
                            <span ng-message="maxlength">Максимальная длина 100 символов</span>
                    </span>
                <!--<div class="all-sku" ng-show="$ctrl.materials.length">
                    <p ng-repeat="m in $ctrl.materials">
                        <strong ng-bind="m.name"></strong>
                        <span ng-bind="m.sku"></span>
                        <span ng-bind="m.sku2"></span>
                        <span ng-bind="m.producer.name"></span>
                    </p>
                </div>-->
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                <div class="form-group">
                    <label for="currency" class="control-label">производитель</label>
                    <ui-select ng-model="$ctrl.item.producer"
                               skip-focusser="true"
                               search-enabled="true"
                               tagging="$ctrl.tagTransform"
                               tagging-label="false"
                               title="выберите производителя">
                        <ui-select-match  placeholder="производитель">{{$select.selected.name}}</ui-select-match>
                        <ui-select-choices repeat="opt in $ctrl.producers | filter: $select.search"
                                           refresh="$ctrl.refreshProducer($select.search)"
                                           refresh-delay="0">
                        {{ opt.name }}</ui-select-choices>
                    </ui-select>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                <div class="">
                    <label for="sku22" class="control-label">дополнительный артикул</label>
                    <input type="text"id="sku22" class="form-control name"
                           name="sku2"
                           ng-maxlength="100"
                           ng-model="$ctrl.item.sku2"
                           placeholder="дополнительный артикул"/>
                </div>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 ">
                <div class="form-group">
                    <label for="unit" class="control-label">единица измерения</label>
                    <ui-select ng-model="$ctrl.item.unitOfMeasure"
                               id="unit"
                               skip-focusser="true"
                               search-enabled="false"
                               title="выберите единицу измерения">
                        <ui-select-match  placeholder="единица измерения">{{$select.selected}}</ui-select-match>
                        <ui-select-choices repeat="opt in $ctrl.unitOfMeasure">{{ opt }}</ui-select-choices>
                    </ui-select>
                </div>
            </div>

            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12 ">
                <div class="form-group" >
                    <label for="currency" class="control-label">валюта учета</label>
                    <ui-select ng-model="$ctrl.item.currency"
                               id="currency"
                               skip-focusser="true"
                               search-enabled="false"
                               title="выберите валюту учета">
                        <ui-select-match  placeholder="валюта учета">{{$select.selected}}</ui-select-match>
                        <ui-select-choices repeat="opt in $ctrl.currencyArr">{{ opt }}</ui-select-choices>
                    </ui-select>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                <div class="form-group">
                    <button class="btn btn-raised btn-success btn-block" type="submit">
                        <span >создать</span>
                    </button>
                </div>
            </div>
            <div class="clearfix"></div>

        </form>
    </div>
    <div class="clearfix"></div>
</div>
<div class="modal-footer">

</div>


